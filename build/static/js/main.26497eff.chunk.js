(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{136:function(e,t,a){},137:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(31),s=a.n(r),i=(a(135),a(136),a(28)),l=a(19),o=a(8),j=(a(137),a(4)),u=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:!0};case"LOGOUT":return{user:null,isFetching:!1,error:!1};default:return e}},d=a(1),b={user:JSON.parse(localStorage.getItem("user"))||null,isFetching:!1,error:!1},m=Object(n.createContext)(b),O=function(e){var t=e.children,a=Object(n.useReducer)(u,b),c=Object(j.a)(a,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){localStorage.setItem("user",JSON.stringify(r.user))}),[r.user]),Object(d.jsx)(m.Provider,{value:{user:r.user,isFetching:r.isFetching,error:r.error,dispatch:s},children:t})},h=function(){var e=Object(n.useContext)(m),t=e.user,a=e.dispatch;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"home",children:[Object(d.jsx)("h1",{className:"text-center mb-4",children:"Activity Log"}),t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"home_buttons",children:[Object(d.jsx)(i.b,{to:"/browser",children:Object(d.jsx)(o.a,{className:"me-2",children:"Browse Activities"})}),Object(d.jsx)(i.b,{to:"/creator",children:Object(d.jsx)(o.a,{className:"ms-2",children:"Create Activity"})})]}),Object(d.jsx)(i.b,{to:"/groups",children:Object(d.jsx)(o.a,{className:"mt-3",children:"Manage Groups"})}),Object(d.jsx)(o.a,{className:"mt-3",variant:"secondary",onClick:function(){a({type:"LOGOUT"})},children:"Logout"})]}):Object(d.jsxs)("div",{className:"home_buttons_login mt-2",children:[Object(d.jsx)(i.b,{to:"/login",children:Object(d.jsx)(o.a,{variant:"primary",className:"my-1",children:"Login"})}),Object(d.jsx)(i.b,{to:"/register",children:Object(d.jsx)(o.a,{variant:"secondary",className:"my-1",children:"Register"})})]})]})})},x=a(9),p=a.n(x),f=a(20),v=a(16),g=(a(144),function(e){var t=e.pageTitle;return Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)("div",{className:"main_header_line"}),Object(d.jsxs)("div",{className:"header_content",children:[Object(d.jsx)("h1",{className:"me-5",children:t}),"Activity Viewer"===t?Object(d.jsx)(i.b,{to:"/browser",children:Object(d.jsx)(o.a,{variant:"primary",className:"ms-3 my-2 ms-1-5",children:"Return to Browser"})}):Object(d.jsx)(i.b,{to:"/",children:Object(d.jsx)(o.a,{variant:"primary",className:"ms-3 my-2 ms-1-5",children:"Return to Main Page"})})]}),Object(d.jsx)("div",{className:"main_header_line"})]})}),y=(a(145),a(58)),N=a.n(y),w=(a(102),a(127)),_=a(15),k=a.n(_),C=a(11),S=function(){var e=Object(n.useContext)(m).user,t=Object(n.useState)(null),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)([]),l=Object(j.a)(s,2),u=l[0],b=l[1],O=Object(n.useState)([]),h=Object(j.a)(O,2),x=h[0],y=h[1],_=Object(n.useState)({}),S=Object(j.a)(_,2),I=S[0],F=S[1],E=Object(n.useState)(""),T=Object(j.a)(E,2),G=T[0],L=T[1],A=Object(n.useState)([]),D=Object(j.a)(A,2),H=D[0],R=D[1];Object(n.useEffect)((function(){var t=function(){var t=Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get("/activities/".concat(e._id));case 2:a=t.sent,y(a.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e._id]),Object(n.useEffect)((function(){var t=function(){var t=Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get("/groups/".concat(e._id));case 2:a=t.sent,R(a.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[H,e._id]),Object(n.useEffect)((function(){var e,t,a=x.map((function(e){return e}));switch(null!==c&&""===G&&(e="date"),null===c&&""!==G&&(e="group"),null!==c&&""!==G&&(e="dateGroup"),null===c&&""===G&&(e="none"),e){case"date":t=a.filter((function(e){return e.date===c.toDateString()}));break;case"group":t=a.filter((function(e){return e.group===G}));break;case"dateGroup":t=a.filter((function(e){return e.date===c.toDateString()&&e.group===G}));break;case"none":t=a.map((function(e){return e}));break;default:return}b(t)}),[x,G,c,e._id]);var M=Object(n.useState)(!1),B=Object(j.a)(M,2),U=B[0],P=B[1],q=function(){return P(!1)};return Object(d.jsxs)("div",{children:[Object(d.jsx)(g,{pageTitle:"Browser"}),Object(d.jsxs)("div",{className:"controls_container",children:[Object(d.jsx)("div",{className:"control_module my-1",id:"control_module_1",children:Object(d.jsxs)("div",{className:"choose-date_container",children:[Object(d.jsx)("span",{className:"date_label me-1",children:"Choose date:"}),Object(d.jsx)(N.a,{isClearable:!0,placeholderText:"none selected",selected:c,onChange:function(e){return r(e)}})]})}),Object(d.jsxs)("div",{className:"control_module my-1 mb-2",id:"control_module_2",children:[Object(d.jsx)("div",{className:"filter-group_label",children:"Filter group:"}),Object(d.jsxs)(v.a,{className:"filter_group_dropdown w-100",children:[Object(d.jsx)("span",{className:"chosen_group",children:G||"none"}),Object(d.jsx)(v.a.Toggle,{variant:"primary",id:"dropdown-basic"}),Object(d.jsxs)(v.a.Menu,{align:"end",style:{maxHeight:"20vh",overflowY:"scroll"},children:[Object(d.jsx)(v.a.Item,{onClick:function(){return L("")},children:"none"}),H.map((function(e){return Object(d.jsx)(v.a.Item,{onClick:function(){return L(e.name)},children:e.name},e.name)}))]})]})]})]}),Object(d.jsxs)(w.a,{variant:"dark",bordered:!0,hover:!0,children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Name"}),Object(d.jsx)("th",{children:"Date"}),Object(d.jsx)("th",{children:"Group"})]})}),Object(d.jsx)("tbody",{className:"table_body",children:0!==u.length?u.map((function(e){return Object(d.jsxs)("tr",{className:"table_row",style:{cursor:"pointer"},onClick:function(){F(e),P(!0)},children:[Object(d.jsx)("td",{children:e.name},e.name),Object(d.jsx)("td",{children:e.date},e.date),Object(d.jsx)("td",{children:e.group?e.group:"none"},e.group)]},"row"+e._id)})):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("tr",{className:"table_row",children:[Object(d.jsx)("td",{children:"none"}),Object(d.jsx)("td",{children:"none"}),Object(d.jsx)("td",{children:"none"})]})})})]}),Object(d.jsxs)(C.a,{show:U,onHide:q,backdrop:"static",keyboard:!1,children:[Object(d.jsx)(C.a.Header,{closeButton:!0,children:Object(d.jsx)(C.a.Title,{className:"text-body",children:I.name})}),Object(d.jsx)(C.a.Body,{children:Object(d.jsx)("h5",{className:"text-black-50",children:"View activity details?"})}),Object(d.jsxs)(C.a.Footer,{children:[Object(d.jsx)(i.b,{to:I?"/viewer/".concat(I._id):"/viewer",children:Object(d.jsx)(o.a,{variant:"primary",className:"me-1",children:"Yes"})}),Object(d.jsx)(o.a,{variant:"secondary",className:"ms-1",onClick:function(){q(),F({})},children:"No"})]})]})]})},I=(a(206),function(){var e=Object(n.useContext)(m).user,t=Object(l.f)().pathname.split("/")[2],a=Object(n.useState)(!1),c=Object(j.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)([]),u=Object(j.a)(i,2),b=u[0],O=u[1],h=Object(n.useState)(""),x=Object(j.a)(h,2),y=x[0],w=x[1],_=Object(n.useState)(""),S=Object(j.a)(_,2),I=S[0],F=S[1],E=Object(n.useState)(""),T=Object(j.a)(E,2),G=T[0],L=T[1],A=Object(n.useState)(""),D=Object(j.a)(A,2),H=D[0],R=D[1],M=Object(n.useState)(""),B=Object(j.a)(M,2),U=B[0],P=B[1],q=Object(n.useState)(""),J=Object(j.a)(q,2),V=J[0],Y=J[1],z=Object(n.useState)([I,G,H,U,V]),K=Object(j.a)(z,2),Q=K[0],W=K[1],X=Object(n.useState)(),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)(),ae=Object(j.a)(te,2),ne=ae[0],ce=ae[1],re=Object(n.useState)(new Date),se=Object(j.a)(re,2),ie=se[0],le=se[1];Object(n.useEffect)((function(){var a=function(){var a=Object(f.a)(p.a.mark((function a(){var n;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,k.a.get("/activities/".concat(e._id,"/").concat(t));case 2:n=a.sent,w(n.data._id),F(n.data.name),L(n.data.group),R(n.data.date),P(n.data.duration),Y(n.data.commentary);case 9:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();a()}),[e._id,t]),Object(n.useEffect)((function(){var t=function(){var t=Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get("/groups/".concat(e._id));case 2:a=t.sent,O(a.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[G,e._id]);var oe=Object(n.useState)(!1),je=Object(j.a)(oe,2),ue=je[0],de=je[1],be=function(){return de(!1)},me=Object(n.useState)(!1),Oe=Object(j.a)(me,2),he=Oe[0],xe=Oe[1],pe=function(){return xe(!1)},fe=function(){var t=Object(f.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.delete("/activities/".concat(y),{data:{userId:e._id}});case 3:window.location.replace("/browser"),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),ve=function(){var t=Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ee(""),""===I||!/[0-9][0-9]:[0-9][0-9]:[0-9][0-9]/.test(U)){t.next=14;break}return a={username:e.username,userId:e._id,name:I,date:H,duration:U,commentary:V,group:G},t.prev=3,t.next=6,k.a.put("/activities/".concat(y),a);case 6:s(!1),ge(),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(3);case 12:t.next=16;break;case 14:""===I&&ee("Please enter activity name"),!1===/[0-9][0-9]:[0-9][0-9]:[0-9][0-9]/.test(U)&&ee("Duration must be in format HH:MM:SS");case 16:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}(),ge=function(){ce("Activity updated successfully"),setTimeout((function(){ce()}),5e3)};return Object(d.jsxs)("div",{children:[Object(d.jsx)(g,{pageTitle:"Activity Viewer"}),r?Object(d.jsxs)("div",{className:"my-3 w-100",style:{display:"flex",alignItems:"center"},children:[Object(d.jsx)("span",{id:"activity_name_label",className:"fw-bold",style:{whiteSpace:"nowrap"},children:"Activity name:"}),Object(d.jsx)("input",{id:"activity-name",className:"ms-2 w-100",value:I,onChange:function(e){F(e.target.value)}})]}):Object(d.jsxs)("div",{className:"my-3",children:[Object(d.jsx)("span",{className:"fw-bold",children:"Activity name:"}),Object(d.jsx)("span",{className:"data_field ms-2",id:"activity_name",children:I})]}),r?Object(d.jsxs)("div",{className:"my-3",style:{display:"flex",alignItems:"center"},children:[Object(d.jsx)("span",{className:"fw-bold",children:"Group:"}),Object(d.jsxs)(v.a,{className:"filter_group_dropdown w-100 ms-2",children:[Object(d.jsx)("span",{className:"chosen_group",children:G||"none"}),Object(d.jsx)(v.a.Toggle,{variant:"primary",id:"dropdown-basic"}),Object(d.jsxs)(v.a.Menu,{align:"end",children:[Object(d.jsx)(v.a.Item,{onClick:function(){return L("")},children:"none"}),b.map((function(e){return Object(d.jsx)(v.a.Item,{onClick:function(){return L(e.name)},children:e.name},e.name)}))]})]})]}):Object(d.jsxs)("div",{className:"my-3",children:[Object(d.jsx)("span",{className:"fw-bold",children:"Group:"}),Object(d.jsx)("span",{className:"data_field ms-2",id:"group",children:G||"none"})]}),r?Object(d.jsxs)("div",{className:"my-3",style:{display:"flex",alignItems:"center"},children:[Object(d.jsx)("span",{className:"fw-bold",children:"Date:"}),Object(d.jsx)("span",{className:"data_field ms-2",id:"date",children:H}),Object(d.jsx)(o.a,{className:"ms-2",onClick:function(){return xe(!0)},children:"Edit"})]}):Object(d.jsxs)("div",{className:"my-3",children:[Object(d.jsx)("span",{className:"fw-bold",children:"Date:"}),Object(d.jsx)("span",{className:"data_field ms-2",id:"date",children:H})]}),r?Object(d.jsxs)("div",{className:"my-3",children:[Object(d.jsx)("span",{className:"fw-bold",children:"Duration:"}),Object(d.jsx)("input",{id:"activity-name",className:"ms-2",maxLength:"8",value:U,onChange:function(e){P(e.target.value)}})]}):Object(d.jsxs)("div",{className:"my-3",children:[Object(d.jsx)("span",{className:"fw-bold",children:"Duration:"}),Object(d.jsx)("span",{className:"data_field ms-2",id:"duration",children:U})]}),Object(d.jsx)("hr",{}),Object(d.jsx)("h5",{children:"Commentary"}),r?Object(d.jsx)("textarea",{className:"commentary_display w-100",id:"commentary_text",readOnly:!1,value:V,onChange:function(e){Y(e.target.value)}}):Object(d.jsx)("textarea",{className:"commentary_display w-100",readOnly:!0,value:""!==V?V:"No comments to display..."}),Object(d.jsx)("div",{className:"viewer_buttons",children:r?Object(d.jsxs)("div",{children:[Object(d.jsx)(o.a,{variant:"primary",className:"me-1",onClick:function(){ve()},children:"Save"}),Object(d.jsx)(o.a,{variant:"secondary",className:"ms-1",onClick:function(){s(!1),F(Q[0]),L(Q[1]),R(Q[2]),P(Q[3]),Y(Q[4]),le(new Date),ee()},children:"Cancel"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(o.a,{variant:"primary",className:"me-1",onClick:function(){s(!0),W([I,G,H,U,V])},children:"Edit"}),Object(d.jsx)(o.a,{variant:"danger",className:"ms-1",onClick:function(){return de(!0)},children:"Delete"})]})}),Object(d.jsx)("p",{className:"mt-2 w-100",style:{color:"red",textAlign:"center"},children:$}),Object(d.jsx)("p",{className:"mt-2 w-100 fw-bold",style:{color:"green",textAlign:"center"},children:ne}),Object(d.jsxs)(C.a,{show:ue,onHide:be,backdrop:"static",keyboard:!1,children:[Object(d.jsx)(C.a.Header,{style:{display:"flex",justifyContent:"center"},children:Object(d.jsx)(C.a.Title,{className:"text-body",children:"Confirm delete group"})}),Object(d.jsxs)(C.a.Body,{className:"w-100",style:{display:"flex",justifyContent:"center"},children:[Object(d.jsx)(o.a,{variant:"danger",className:"me-2",onClick:function(){fe(),be()},children:"Delete"}),Object(d.jsx)(o.a,{variant:"secondary",className:"ms-2",onClick:be,children:"Cancel"})]})]}),Object(d.jsxs)(C.a,{show:he,onHide:pe,backdrop:"static",keyboard:!1,centered:!0,children:[Object(d.jsxs)(C.a.Body,{className:"",style:{display:"flex",alignItems:"center",marginLeft:"auto",marginRight:"auto"},children:[Object(d.jsx)("p",{className:" mb-0 me-2 text-body",style:{whiteSpace:"nowrap"},children:"Select date:"}),Object(d.jsx)(N.a,{isClearable:!0,placeholderText:"none selected",selected:ie,onChange:function(e){return le(e)}})]}),Object(d.jsxs)(C.a.Footer,{className:"w-100",style:{display:"flex",justifyContent:"center"},children:[Object(d.jsx)(o.a,{variant:"primary",className:"me-2",disabled:!ie,onClick:function(){pe(),R(ie.toDateString())},children:"Accept"}),Object(d.jsx)(o.a,{variant:"secondary",className:"ms-2",onClick:pe,children:"Cancel"})]})]})]})}),F=(a(207),function(){var e=Object(n.useContext)(m).user,t=Object(n.useState)(new Date),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(0),i=Object(j.a)(s,2),l=i[0],u=i[1],b=Object(n.useState)("00:00:00"),O=Object(j.a)(b,2),h=O[0],x=O[1],y=Object(n.useState)(!1),w=Object(j.a)(y,2),_=w[0],S=w[1],I=Object(n.useState)(""),F=Object(j.a)(I,2),E=F[0],T=F[1],G=Object(n.useState)(""),L=Object(j.a)(G,2),A=L[0],D=L[1],H=Object(n.useState)(),R=Object(j.a)(H,2),M=R[0],B=R[1],U=Object(n.useState)(""),P=Object(j.a)(U,2),q=P[0],J=P[1],V=Object(n.useState)(""),Y=Object(j.a)(V,2),z=Y[0],K=Y[1],Q=Object(n.useState)(),W=Object(j.a)(Q,2),X=W[0],Z=W[1],$=Object(n.useState)(""),ee=Object(j.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)([]),ce=Object(j.a)(ne,2),re=ce[0],se=ce[1];Object(n.useEffect)((function(){var t=function(){var t=Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get("/groups/".concat(e._id));case 2:a=t.sent,se(a.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[z,e._id]),Object(n.useEffect)((function(){var e=null;return _?e=setInterval((function(){u((function(e){return e+1}))}),1e3):clearInterval(e),function(){clearInterval(e)}}),[_]),Object(n.useEffect)((function(){x(ie(l))}),[l]);var ie=function(e){var t=Math.floor(e/3600),a=Math.floor((e-3600*t)/60),n=e-60*a-3600*t,c=t.toString(),r=a.toString(),s=n.toString();return 1===c.length&&(c="0"+c),1===r.length&&(r="0"+r),1===s.length&&(s="0"+s),c+":"+r+":"+s},le=Object(n.useState)(!1),oe=Object(j.a)(le,2),je=oe[0],ue=oe[1],de=function(){return ue(!1)},be=function(){var t=Object(f.a)(p.a.mark((function t(){var a,n,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=re.map((function(e){return e.name})),n=document.querySelector("#new_group").value,a.includes(n)){t.next=13;break}return t.prev=3,c={name:n,userId:e._id},t.next=7,k.a.post("/Groups",c);case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:t.next=14;break;case 13:Z("Group already exists");case 14:de(),K(n);case 16:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(){return t.apply(this,arguments)}}(),me=function(){var t=Object(f.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Z(""),a=M?A:ie(l),null===c||""===E||!/[0-9][0-9]:[0-9][0-9]:[0-9][0-9]/.test(a)){t.next=15;break}return n={username:e.username,userId:e._id,name:E,date:c.toDateString(),duration:a,commentary:q,group:z},t.prev=4,t.next=7,k.a.post("/activities",n);case 7:window.location.replace("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),console.log(t.t0);case 13:t.next=18;break;case 15:null===c&&Z("Please enter date"),""===E&&Z("Please enter activity name"),!1===/[0-9][0-9]:[0-9][0-9]:[0-9][0-9]/.test(a)&&Z("Manual duration must be in format HH:MM:SS");case 18:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(){return t.apply(this,arguments)}}();return Object(d.jsxs)("div",{children:[Object(d.jsx)(g,{pageTitle:"Creator"}),Object(d.jsxs)("div",{className:"timer_control_container my-3",children:[Object(d.jsxs)("div",{className:"activity_duration mb-2",children:["Activity duration: ",h]}),Object(d.jsx)("div",{className:"timer_control_buttons",children:_||0!==l?_?Object(d.jsx)(o.a,{variant:"primary",className:"me-1",onClick:function(){return S(!1)},children:"Stop"}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(o.a,{variant:"primary",className:"me-1",onClick:function(){return S(!0)},children:"Resume"}),Object(d.jsx)(o.a,{variant:"primary",className:"ms-1",onClick:function(){S(!1),u(0)},children:"Reset"})]}):Object(d.jsx)(o.a,{variant:"primary",className:"me-1",onClick:function(){return S(!0)},children:"Start"})})]}),Object(d.jsxs)("div",{className:"manual_duration_container",children:[Object(d.jsxs)("div",{className:"duration_entry_container my-3",children:[Object(d.jsx)("label",{htmlFor:"duration_entry_field",className:"duration_entry_label me-1",children:"Enter duration manually:"}),Object(d.jsx)("div",{className:"duration_entry_field_container",children:Object(d.jsx)("input",{type:"text",name:"duration",id:"duration_entry_field",maxLength:"8",rows:"1",onChange:function(e){return D(e.target.value)}})})]}),Object(d.jsxs)("div",{className:"duration_checkbox_container",children:[Object(d.jsx)("input",{className:"me-1",id:"duration_checkbox",type:"checkbox",onClick:function(e){return B(e.target.checked)}}),Object(d.jsx)("label",{htmlFor:"duration_checkbox",children:"- use manually entered value"})]})]}),Object(d.jsxs)("div",{className:"activity_setup_container",children:[Object(d.jsxs)("div",{className:"date_name_container",children:[Object(d.jsxs)("div",{className:"name_container my-3",children:[Object(d.jsx)("label",{htmlFor:"name_field",className:"name_label me-2",children:"Activity name:"}),Object(d.jsx)("div",{className:"name_field_container",children:Object(d.jsx)("input",{type:"text",name:"activity_name",id:"name_field",rows:"1",onChange:function(e){return T(e.target.value)}})})]}),Object(d.jsxs)("div",{className:"choose-date_container",children:[Object(d.jsx)("div",{className:"date_label me-2",children:"Date:"}),Object(d.jsx)(N.a,{isClearable:!0,placeholderText:"none selected",selected:c,onChange:function(e){return r(e)}})]})]}),Object(d.jsxs)("div",{className:"commentary_container mt-2",children:[Object(d.jsx)("h5",{children:"Commentary"}),Object(d.jsx)("textarea",{className:"commentary_display w-100",resize:"none",id:"commentary_text",placeholder:"Enter comments ...",onChange:function(e){return J(e.target.value)}})]}),Object(d.jsxs)("div",{className:"choose-group_container",children:[Object(d.jsx)("span",{className:"choose-group_label",children:"Choose group:"}),Object(d.jsxs)(v.a,{className:"filter_group_dropdown w-100",children:[Object(d.jsx)("span",{className:"chosen_group",children:z||"none"}),Object(d.jsx)(v.a.Toggle,{variant:"primary",id:"dropdown-basic"}),Object(d.jsxs)(v.a.Menu,{align:"end",style:{maxHeight:"20vh",overflowY:"scroll"},children:[Object(d.jsx)(v.a.Item,{onClick:function(){return K("")},children:"none"}),re.map((function(e){return Object(d.jsx)(v.a.Item,{onClick:function(){return K(e.name)},children:e.name},e.name)}))]})]})]})]}),Object(d.jsxs)("div",{className:"buttons_container",children:[Object(d.jsxs)("div",{className:"create_group my-3",children:[Object(d.jsx)(o.a,{variant:"primary",className:"me-2",onClick:function(){return ue(!0)},children:"Create group"}),Object(d.jsxs)(C.a,{show:je,onHide:de,backdrop:"static",keyboard:!1,children:[Object(d.jsx)(C.a.Header,{children:Object(d.jsx)(C.a.Title,{className:"text-body",children:"Enter Group Name"})}),Object(d.jsx)(C.a.Body,{children:Object(d.jsx)("input",{type:"text",id:"new_group",placeholder:"Group Name",className:"w-100",maxLength:"20",onChange:function(e){return ae(e.target.value)}})}),Object(d.jsxs)(C.a.Footer,{children:[Object(d.jsx)(o.a,{variant:"primary",onClick:function(){be(),ae("")},disabled:""===te,children:"Save"}),Object(d.jsx)(o.a,{variant:"secondary",onClick:function(){de(),ae("")},children:"Close"})]})]})]}),Object(d.jsx)(o.a,{variant:"success",className:"w-50",onClick:me,children:"Save activity"}),Object(d.jsx)("span",{className:"mt-2 ",style:{color:"red"},children:X})]})]})}),E=(a(208),function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useContext)(m),c=a.dispatch,r=a.isFetching,s=function(){var a=Object(f.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),c({type:"LOGIN_START"}),a.prev=2,a.next=5,k.a.post("/Authentication/login",{username:e.current.value,password:t.current.value});case 5:r=a.sent,c({type:"LOGIN_SUCCESS",payload:r.data}),r.data&&window.location.replace("/"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),c({type:"LOGIN_FAILURE"});case 13:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"register",children:[Object(d.jsx)(g,{pageTitle:"Login"}),Object(d.jsxs)("form",{className:"login_form",onSubmit:s,children:[Object(d.jsxs)("div",{className:"form-group w-100",children:[Object(d.jsx)("label",{htmlFor:"username",children:"Username"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Username",ref:e,required:!0})]}),Object(d.jsxs)("div",{className:"form-group w-100",children:[Object(d.jsx)("label",{htmlFor:"password",children:"Password"}),Object(d.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",ref:t,required:!0})]}),Object(d.jsx)(o.a,{type:"submit",variant:"primary",className:"mt-2",disabled:r,children:"Login"})]})]})}),T=(a(209),function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(j.a)(r,2),i=s[0],l=s[1],u=Object(n.useState)(""),b=Object(j.a)(u,2),m=b[0],O=b[1],h=Object(n.useState)(!1),x=Object(j.a)(h,2),v=x[0],y=x[1],N=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!1),e.prev=2,e.next=5,k.a.post("/Authentication/register",{username:a,email:i,password:m});case 5:e.sent.data&&window.location.replace("/login"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),y(!0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"register",children:[Object(d.jsx)(g,{pageTitle:"Register"}),Object(d.jsxs)("form",{className:"register_form",onSubmit:N,children:[Object(d.jsxs)("div",{className:"form-group w-100",children:[Object(d.jsx)("label",{htmlFor:"username",children:"Username"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Enter username",onChange:function(e){return c(e.target.value)},required:!0})]}),Object(d.jsxs)("div",{className:"form-group w-100",children:[Object(d.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(d.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter email",onChange:function(e){return l(e.target.value)},required:!0})]}),Object(d.jsxs)("div",{className:"form-group w-100",children:[Object(d.jsx)("label",{htmlFor:"password",children:"Password"}),Object(d.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",onChange:function(e){return O(e.target.value)},required:!0})]}),Object(d.jsx)(o.a,{type:"submit",variant:"primary",className:"mt-2",children:"Register"}),v&&Object(d.jsx)("span",{className:"registration_warning",children:"Something went wrong!"})]})]})}),G=function(){var e=Object(n.useContext)(m).user,t=Object(n.useState)(""),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)([]),i=Object(j.a)(s,2),l=i[0],u=i[1],b=Object(n.useState)(),O=Object(j.a)(b,2),h=O[0],x=O[1],y=Object(n.useState)(""),N=Object(j.a)(y,2),w=N[0],_=N[1],S=Object(n.useState)([]),I=Object(j.a)(S,2),F=I[0],E=I[1];Object(n.useEffect)((function(){x()}),[c]),Object(n.useEffect)((function(){var t=function(){var t=Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get("/groups/".concat(e._id));case 2:a=t.sent,u(a.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[c,e._id]);var T=Object(n.useState)(!1),G=Object(j.a)(T,2),L=G[0],A=G[1],D=function(){return A(!1)},H=Object(n.useState)(!1),R=Object(j.a)(H,2),M=R[0],B=R[1],U=function(){return B(!1)},P=function(){var t=Object(f.a)(p.a.mark((function t(){var a,n,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=l.map((function(e){return e.name})),n=document.querySelector("#new_group").value,a.includes(n)){t.next=13;break}return t.prev=3,c={name:n,userId:e._id},t.next=7,k.a.post("/groups",c);case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:t.next=14;break;case 13:x("Group already exists");case 14:D(),r(n);case 16:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(){return t.apply(this,arguments)}}(),q=function(){var t=Object(f.a)(p.a.mark((function t(){var a,n,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get("/groups/".concat(e._id));case 2:if(a=t.sent,n=(n=a.data.filter((function(e){return e.name===c})))[0],s=!0,F.forEach((function(e){e.group===c&&(s=!1)})),!s){t.next=18;break}return t.prev=8,t.next=11,k.a.delete("/groups/".concat(n._id),{data:{userId:e._id}});case 11:t.next=15;break;case 13:t.prev=13,t.t0=t.catch(8);case 15:r(""),t.next=19;break;case 18:x("Existing activities contain this group - cannot delete");case 19:case"end":return t.stop()}}),t,null,[[8,13]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){var t=function(){var t=Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get("/activities/".concat(e._id));case 2:a=t.sent,E(a.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e._id]),Object(d.jsxs)("div",{children:[Object(d.jsx)(g,{pageTitle:"Groups"}),Object(d.jsxs)("div",{className:"choose-group_container",children:[Object(d.jsx)("span",{className:"choose-group_label",children:"Choose group:"}),Object(d.jsxs)(v.a,{className:"filter_group_dropdown w-100",children:[Object(d.jsx)("span",{className:"chosen_group",children:c||"none"}),Object(d.jsx)(v.a.Toggle,{variant:"primary",id:"dropdown-basic"}),Object(d.jsxs)(v.a.Menu,{align:"end",children:[Object(d.jsx)(v.a.Item,{onClick:function(){return r("")},children:"none"}),l.map((function(e){return Object(d.jsx)(v.a.Item,{onClick:function(){return r(e.name)},children:e.name},e.name)}))]})]})]}),Object(d.jsx)("div",{className:"buttons_container",children:Object(d.jsxs)("div",{className:"create_delete_group my-3",children:[Object(d.jsx)(o.a,{variant:"primary",className:"me-2",onClick:function(){return A(!0)},children:"Create group"}),Object(d.jsxs)(C.a,{show:L,onHide:D,backdrop:"static",keyboard:!1,children:[Object(d.jsx)(C.a.Header,{children:Object(d.jsx)(C.a.Title,{className:"text-body",children:"Enter Group Name"})}),Object(d.jsx)(C.a.Body,{children:Object(d.jsx)("input",{type:"text",id:"new_group",placeholder:"Group Name",className:"w-100",maxLength:"20",onChange:function(e){return _(e.target.value)}})}),Object(d.jsxs)(C.a.Footer,{children:[Object(d.jsx)(o.a,{variant:"primary",onClick:function(){P(),_("")},disabled:""===w,children:"Save"}),Object(d.jsx)(o.a,{variant:"secondary",onClick:function(){D(),_("")},children:"Close"})]})]}),Object(d.jsx)(o.a,{variant:"danger",className:"ms-2",disabled:""===c,onClick:function(){return B(!0)},children:"Delete group"}),Object(d.jsxs)(C.a,{show:M,onHide:D,backdrop:"static",keyboard:!1,children:[Object(d.jsx)(C.a.Header,{style:{display:"flex",justifyContent:"center"},children:Object(d.jsx)(C.a.Title,{className:"text-body",children:"Confirm delete group"})}),Object(d.jsxs)(C.a.Body,{className:"w-100",style:{display:"flex",justifyContent:"center"},children:[Object(d.jsx)(o.a,{variant:"danger",className:"me-2",onClick:function(){q(),U()},children:"Delete"}),Object(d.jsx)(o.a,{variant:"secondary",className:"ms-2",onClick:U,children:"Cancel"})]})]})]})}),Object(d.jsx)("p",{className:"mt-2 w-100",style:{color:"red",textAlign:"center"},children:h})]})};var L=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(i.a,{children:Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",children:Object(d.jsx)(h,{})}),Object(d.jsx)(l.a,{path:"/browser",children:Object(d.jsx)(S,{})}),Object(d.jsx)(l.a,{path:"/creator",children:Object(d.jsx)(F,{})}),Object(d.jsx)(l.a,{path:"/groups",children:Object(d.jsx)(G,{})}),Object(d.jsx)(l.a,{path:"/viewer",children:Object(d.jsx)(I,{})}),Object(d.jsx)(l.a,{path:"/login",children:Object(d.jsx)(E,{})}),Object(d.jsx)(l.a,{path:"/register",children:Object(d.jsx)(T,{})})]})})})};k.a.defaults.baseURL="https://activity-log-react.herokuapp.com/server/",k.a.defaults.baseURL="https://activity-log-react.herokuapp.com/server/",s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(O,{children:Object(d.jsx)(L,{})})}),document.getElementById("root"))}},[[210,1,2]]]);
//# sourceMappingURL=main.26497eff.chunk.js.map